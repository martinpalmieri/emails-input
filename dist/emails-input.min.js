function EmailsInput(a,b){for(var c in b)b.hasOwnProperty(c)&&(this.options[c]=b[c]);this.state=[],a.classList.add(this.options.containerClass),this.itemsContainer=this.createItemsContainerElement(),this.itemInput=this.createItemInputElement(),a.appendChild(this.itemsContainer),a.appendChild(this.itemInput),a.addEventListener("click",function(){this.itemInput.focus()}.bind(this))}EmailsInput.prototype.options={containerClass:"emails-input-main-container",itemsContainerClassName:"emails-input-items-container",itemInputClassName:"emails-input-item-input",itemClassName:"emails-input-item",itemInvalidClassName:"emails-input-item-invalid",placeholder:"add more people...",confirmKeyCodes:[13,188],regexValidator:new RegExp(/^\S+@\S+\.\S+$/)},EmailsInput.prototype.createItemsContainerElement=function(){var a=document.createElement("div");return a.classList.add(this.options.itemsContainerClassName),a},EmailsInput.prototype.createItemInputElement=function(){var a=document.createElement("input");return a.classList.add(this.options.itemInputClassName),a.type="email",a.placeholder=this.options.placeholder,a.addEventListener("keydown",this.onItemInputChange.bind(this)),a.addEventListener("blur",this.onItemInputBlur.bind(this)),a.addEventListener("paste",this.onItemInputPaste.bind(this)),a},EmailsInput.prototype.onItemInputChange=function(a){-1!==this.options.confirmKeyCodes.indexOf(a.keyCode)&&this.addItem(a.target.value)&&(this.clearItemInput(),a.preventDefault())},EmailsInput.prototype.onItemInputBlur=function(a){this.addItem(a.target.value),this.clearItemInput()},EmailsInput.prototype.onItemInputPaste=function(a){setTimeout(function(){for(var b=a.target.value.split(/,/g),c=0;c<b.length;c++)this.addItem(b[c].trim());this.clearItemInput()}.bind(this))},EmailsInput.prototype.addItem=function(a){if(""===a)return!1;for(var b=0;b<this.state.length;b++)if(this.state[b].value===a)return!1;var c=this.options.regexValidator.test(a);return this.itemsContainer.appendChild(this.createItemElement(a,c)),this.state.push({value:a,isValid:c}),!0},EmailsInput.prototype.removeItem=function(a,b){for(var c=0;c<this.state.length;c++)if(this.state[c].value===b)return this.state.splice(c,1),void this.itemsContainer.removeChild(a)},EmailsInput.prototype.createItemElement=function(a,b){var c=document.createElement("div");c.innerHTML=a,c.classList.add(this.options.itemClassName),!1===b&&c.classList.add(this.options.itemInvalidClassName);var d=document.createElement("button");return d.type="button",d.innerHTML="x",d.addEventListener("click",this.removeItem.bind(this,c,a)),c.appendChild(d),c},EmailsInput.prototype.clearItemInput=function(){this.itemInput.value=""};